# Система управления объявлениями для модерации

Веб-приложение для модерации объявлений на платформе Авито. Упрощённая версия внутренней системы, которую используют модераторы для проверки и управления объявлениями пользователей.

## Технологии

### Основной стек
- **React 19.2.0** - библиотека для создания пользовательских интерфейсов
- **TypeScript 5.9.3** - типизированный JavaScript для повышения надежности кода
- **Vite 7.2.4** - быстрый сборщик и dev-сервер для современной веб-разработки

### UI и стилизация
- **Tailwind CSS 4.1.17** - utility-first CSS фреймворк для быстрой стилизации
- **shadcn/ui** - набор переиспользуемых компонентов на базе Radix UI
- **lucide-react** - библиотека иконок для React

### Роутинг и состояние
- **react-router-dom 6.30.2** - маршрутизация в React-приложении
- **@tanstack/react-query 5.90.10** - управление серверным состоянием и кэшированием

### Формы и валидация
- **react-hook-form 7.66.1** - управление формами с минимальными ре-рендерами

### Визуализация данных
- **Recharts 3.4.1** - библиотека для создания графиков и диаграмм
- **date-fns 4.1.0** - форматирование дат и времени

### HTTP-запросы
- **axios 1.13.2** - HTTP-клиент для выполнения API-запросов

### Уведомления
- **sonner 2.0.7** - современная библиотека toast-уведомлений

### Тестирование
- **Vitest 4.0.13** - быстрый тестовый фреймворк, совместимый с Vite
- **React Testing Library 16.3.0** - утилиты для тестирования React-компонентов
- **happy-dom 20.0.10** - легковесная DOM-среда для тестов

### Инструменты разработки
- **ESLint 9.39.1** - линтер для статического анализа кода
- **Prettier 3.6.2** - форматтер кода для единообразия стиля

## Обоснование выбора технологий

### React 19 + TypeScript
- Современная версия React с улучшенной производительностью
- TypeScript обеспечивает типобезопасность и снижает количество ошибок
- Широкая экосистема и активное сообщество

### Vite
- Мгновенный запуск dev-сервера благодаря ESM и esbuild
- Быстрая сборка в production
- Нативная поддержка TypeScript и современных стандартов

### Tailwind CSS + shadcn/ui
- Tailwind CSS позволяет быстро создавать адаптивные интерфейсы
- shadcn/ui предоставляет готовые доступные компоненты на базе Radix UI
- Полный контроль над кодом компонентов (не зависимость, а копии в проекте)

### React Query
- Автоматическое кэширование и синхронизация серверного состояния
- Встроенная обработка загрузки и ошибок
- Оптимистичные обновления и автоматическая инвалидация кэша

### React Hook Form
- Минимальные ре-рендеры при работе с формами
- Встроенная валидация через правила (rules)
- Хорошая производительность даже с большими формами

### Vitest
- Совместимость с Vite (общая конфигурация)
- Быстрое выполнение тестов
- Поддержка ESM из коробки

## Установка и запуск

### Требования
- Node.js v20 или выше
- npm или yarn

### Установка зависимостей
```bash
npm install
```

### Разработка
```bash
npm run dev
```
Приложение будет доступно по адресу `http://localhost:5173`

### Сборка для production
```bash
npm run build
```
Собранные файлы будут в папке `dist/`

### Предпросмотр production-сборки
```bash
npm run preview
```
Приложение будет доступно по адресу `http://localhost:4173`

### Тестирование
```bash
npm test
```

### Линтинг
```bash
npm run lint
```

### Форматирование кода
```bash
npm run format
```

## Docker

### Сборка образа
```bash
docker build -t avito-frontend .
```

### Запуск контейнера
```bash
docker run -p 80:80 avito-frontend
```

### Docker Compose
```bash
docker-compose up --build
```
Приложение будет доступно по адресу `http://localhost`

## Структура проекта

```
frontend/
├── src/
│   ├── __tests__/          # Тесты
│   ├── components/          # React-компоненты
│   │   └── ui/             # shadcn/ui компоненты
│   ├── hooks/              # Пользовательские хуки
│   ├── lib/                # Утилиты и константы
│   │   ├── api/           # API-клиенты
│   │   ├── constants.ts   # Константы проекта
│   │   └── utils.ts       # Вспомогательные функции
│   ├── pages/             # Страницы приложения
│   ├── routes/            # Конфигурация роутинга
│   ├── types/             # TypeScript типы
│   └── test/              # Настройка тестов
├── public/                # Статические файлы
├── Dockerfile            # Docker-конфигурация
├── docker-compose.yml    # Docker Compose конфигурация
└── package.json          # Зависимости проекта
```

## API

Приложение использует готовый API, расположенный в папке `server` репозитория.

### Основные эндпоинты:
- `GET /api/v1/ads` - получение списка объявлений
- `GET /api/v1/ads/:id` - получение детальной информации об объявлении
- `POST /api/v1/ads/:id/approve` - одобрение объявления
- `POST /api/v1/ads/:id/reject` - отклонение объявления
- `POST /api/v1/ads/:id/request-changes` - запрос доработки
- `GET /api/v1/stats` - получение статистики модератора

### Конфигурация API
API URL настраивается через переменную окружения `VITE_API_URL` (по умолчанию `/api/v1`).

## Константы проекта

Все константы проекта хранятся в `src/lib/constants.ts`:

- `QUERY_STALE_TIME` - время кэширования для React Query
- `API_CONFIG` - конфигурация API (BASE_URL, CONTENT_TYPE)
- `PAGINATION` - параметры пагинации
- `DATE_FORMATS` - форматы дат для date-fns
- `PRICE_FORMAT` - настройки форматирования цен
- `ROUTES` - маршруты приложения
- `STATUS_LABELS` - метки статусов объявлений
- `CATEGORIES` - список категорий

## Разработка

### Стиль кода
- Используется ESLint для проверки кода
- Prettier для автоматического форматирования
- TypeScript для типобезопасности

### Компоненты
- Компоненты организованы по функциональности
- Используются shadcn/ui компоненты для консистентности UI
- Все текстовые строки вынесены в константы `LABELS`

### Тестирование
- Unit-тесты для утилит и компонентов
- Используется Vitest и React Testing Library
- Тесты находятся в папке `src/__tests__/`
